var chuknuStrURL=window.location.href;if(chuknuStrURL.match(/.*/g)){_sokClient="17196";var paramList={};(function(a){var doc=document,script=doc.createElement("script"),track=function(){try{sokrati.beaconParams("","",a)}catch(err){console.log("Error"+err)}},firstScriptTag=doc.getElementsByTagName("script")[0];script.type="text/javascript",script.async=!0,script.onload===null?script.onload=track:script.readyState!==undefined&&(script.onreadystatechange=function(){this.readyState==="loaded"&&track()}),script.src=("https:"==document.location.protocol?"https://tracking.sokrati.com":"http://cdn.sokrati.com")+"/javascripts/tracker.js",firstScriptTag.parentNode.insertBefore(script,firstScriptTag)})(paramList)}if(chuknuStrURL.match(/\/checkout/g)){var chuknu={_chkForNull:function(value){return value===undefined||value===null?"":value},_getInnerText:function(el){if(el!="")return el=this._replaceMultSpaces(el.innerText||el.textContent),el},_extractDigits:function(sentence){var matches=sentence.match(/(|-)?((\d+(\.\d+)?)|(\d+))/);return matches&&matches[0]||null},_getPrice:function(el){var price="",value;return el!==""&&(value=this._chkForNull(this._extractDigits(this._chkForNull(el).replace(/,/g,""))),value!=""&&(price=parseFloat(value).toFixed(2))),price},_createCookie:function(name,value,days){if(days){var date=new Date;date.setTime(date.getTime()+days*24*60*60*1e3);var expires="; expires="+date.toGMTString()}else var expires="";document.cookie=name+"="+value+expires+";path=/"},_readCookie:function(name){var nameEQ=name+"=",ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length)}return null},_eraseCookie:function(name){this._createCookie(name,"",-1)},_replaceMultSpaces:function(el){return el.replace(/(\s{2,}|\n)/g," ")},_getSelectOptText:function(el){var option="";return el!=""&&(option=this._chkForNull(el.options[el.selectedIndex].text)),option},_getSelectOptValue:function(el){var value="";return el!=""&&(value=this._chkForNull(el.options[el.selectedIndex].value)),value},_getInputTagValue:function(el){var value="";return el!=""&&(value=this._chkForNull(el.value)),value},_mergeJson:function(obj1,obj2){var obj3={};for(var key in obj1)obj3[key]=obj1[key];for(var key in obj2)obj3[key]=obj2[key];return obj3},_getUrlVars:function(name){var urlPart={},parts=window.location.href.replace(/[?(#|&)]+([^=&]+)=([^&]*)/gi,function(m,key,value){urlPart[key]=value});return urlPart[name]},_isEmail:function(email){var emailReg=/\S+@\S+\.\S{2,10}/;return emailReg.test(email)},_getTimezoneOffset:function(){var offset=(new Date).getTimezoneOffset();return offset},_extractQuantity:function(qty){return resultQty="",qty.tagName=="INPUT"?resultQty=chuknu._getInputTagValue(qty):qty.tagName=="SELECT"?resultQty=chuknu._getSelectOptText(qty):resultQty=chuknu._getInnerText(qty),resultQty=resultQty.trim(),resultQty},_getText:function(el){return textEl="",el.tagName=="INPUT"||el.tagName=="TEXTAREA"?textEl=chuknu._getInputTagValue(el):el.tagName=="SELECT"?textEl=chuknu._getSelectOptText(el):textEl=chuknu._getInnerText(el),textEl=textEl.trim(),textEl}};_getCartAmount=function(leadStep){var cart_amount_1,cart_amount="",err="";try{cart_amount_1=chuknu._chkForNull(document.getElementById("total_amount")),cart_amount_1!=""&&(cart_amount=chuknu._getInnerText(cart_amount_1))}catch(code_error){err=code_error}if(cart_amount!="")return cart_amount=chuknu._getPrice(cart_amount),cart_amount;err!=""&&(sokrati_err={error:" _getCartAmount: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err))},_getCouponValue=function(leadStep){var coupon_code_1,coupon_code="",err="";try{cart_amount_1=chuknu._chkForNull(document.getElementById("coupon_value")),coupon_code_1!=""&&(coupon_code=chuknu._chkForNull(cart_amount_1.value))}catch(code_error){err=code_error}if(coupon_code!="")return coupon_code;err!=""&&(sokrati_err={error:" _getCouponValue: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err))},_getDiscountDetails=function(leadStep){var discount_1,discount_details="",err="";try{discount_1=chuknu._chkForNull(document.getElementById("discount")),discount_1!=""&&(discount_details=chuknu._getInnerText(discount_1))}catch(code_error){err=code_error}if(discount_details!="")return discount_details;err!=""&&(sokrati_err={error:" _getDiscountDetails: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err))},_getProductNames=function(leadStep){var product_names="",product_names_3,product_names_1,err="";try{var product_names_array=[];product_names_1=document.getElementsByClassName("orderItem");for(i=0;i<product_names_1.length;i++)try{i>=0&&(i-0)%1==0&&(product_names_3=chuknu._chkForNull(product_names_1[i].innerText),chuknu._chkForNull(product_names_3)!=""&&product_names_array.push(chuknu._chkForNull(product_names_3)))}catch(err){}product_names=product_names_array.join("|")}catch(code_error){err=code_error}if(product_names!="")return product_names;err!=""&&(sokrati_err={error:" _getProductNames: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err))},_getProductPrices=function(leadStep){var product_prices="",product_prices_3,product_prices_1,err="";try{var product_prices_array=[];product_prices_1=document.getElementsByClassName("amount");for(i=0;i<product_prices_1.length;i++)try{i>=0&&(i-0)%1==0&&(product_prices_3=chuknu._chkForNull(product_prices_1[i].innerText),chuknu._chkForNull(product_prices_3)!=""&&product_prices_array.push(chuknu._chkForNull(product_prices_3)))}catch(err){}product_prices=product_prices_array.join("|")}catch(code_error){err=code_error}product_prices=product_prices.replace(/ /g,"")+" ",product_prices=product_prices.replace("| ","");var prices=new Array;products=product_prices.split("|");for(var product=0;product<products.length;product++)price=chuknu._getPrice(products[product]),prices.push(price);product_prices=prices.join("|");if(product_prices!="")return product_prices;err!=""&&(sokrati_err={error:" _getProductPrices: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err))},_getTimezoneOffset=function(leadStep){try{var time_zone_offset="",err="";return time_zone_offset}catch(err){sokrati_err={error:" _getTimezoneOffset: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err)}},_sokratiCheckoutPixel=function(leadStep){try{return _sokParams={},_sokParams.coupon_code=chuknu._chkForNull(_getCouponValue(leadStep)),_sokParams.cart_amount=chuknu._chkForNull(_getCartAmount(leadStep)),_sokParams.discount_details=chuknu._chkForNull(_getDiscountDetails(leadStep)),_sokParams.product_names=chuknu._chkForNull(_getProductNames(leadStep)),_sokParams.product_prices=chuknu._chkForNull(_getProductPrices(leadStep)),_sokParams.timezone_offset=chuknu._chkForNull(chuknu._getTimezoneOffset()),_sokParams.lead_step=chuknu._chkForNull(leadStep),_sokParams}catch(err){sokrati_err={error:"_sokratiCheckoutPixel: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err)}},_sokratiAddEventListenerCO=function(){var checkout_button="",err="";try{checkout_button=chuknu._chkForNull(document.getElementsByClassName("red btn payment")[0])}catch(code_error){err=code_error}checkout_button!=""?checkout_button.addEventListener("click",_sokratiCheckout):err!=""&&(sokrati_err={error:"_sokratiAddEventListenerCO: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err))},_sokratiCheckout=function(){console.log("Sokrati checkout event");try{var leadStep,_sokObj;leadStep="funnel_checkout",_sokObj=_sokratiCheckoutPixel(leadStep),sokrati.trackParams("","",_sokObj),sokrati._pause(500)}catch(err){sokrati_err={error:"_sokratiCheckout: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err)}},_sokratiRevieworder=function(){try{var tagName="",leadStep,_sokObj;leadStep="funnel_revieworder",_sokObj=_sokratiCheckoutPixel(leadStep),sokrati.trackParams("","",_sokObj),sokrati._pause(500)}catch(err){sokrati_err={error:"_sokratiRevieworder: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err)}},_sokClient="17196",function(){var doc=document,script=doc.createElement("script"),track=function(){try{var int=setInterval(function(){unique_element=document.getElementById("cartPayment"),unique_element=chuknu._chkForNull(unique_element),unique_element!=""&&(clearInterval(int),_sokratiRevieworder(),_sokratiAddEventListenerCO())},500)}catch(err){sokrati_err={error:err,lead_step:"funnel_checkout"},sokrati&&sokrati.beaconParams("","",sokrati_err)}},firstScriptTag=doc.getElementsByTagName("script")[0];script.type="text/javascript",script.async=!0,script.onload===null?script.onload=track:script.readyState!==undefined&&(script.onreadystatechange=function(){this.readyState==="loaded"&&track()}),script.src=("https:"==document.location.protocol?"https://tracking.sokrati.com":"http://cdn.sokrati.com")+"/javascripts/tracker.js",firstScriptTag.parentNode.insertBefore(script,firstScriptTag)}()}if(chuknuStrURL.match(/io\/payment\/success/g)){var chuknu={_chkForNull:function(value){return value===undefined||value===null?"":value},_getInnerText:function(el){if(el!="")return el=this._replaceMultSpaces(el.innerText||el.textContent),el},_extractDigits:function(sentence){var matches=sentence.match(/(|-)?((\d+(\.\d+)?)|(\d+))/);return matches&&matches[0]||null},_getPrice:function(el){var price="",value;return el!==""&&(value=this._chkForNull(this._extractDigits(this._chkForNull(el).replace(/,/g,""))),value!=""&&(price=parseFloat(value).toFixed(2))),price},_createCookie:function(name,value,days){if(days){var date=new Date;date.setTime(date.getTime()+days*24*60*60*1e3);var expires="; expires="+date.toGMTString()}else var expires="";document.cookie=name+"="+value+expires+";path=/"},_readCookie:function(name){var nameEQ=name+"=",ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length)}return null},_eraseCookie:function(name){this._createCookie(name,"",-1)},_replaceMultSpaces:function(el){return el.replace(/(\s{2,}|\n)/g," ")},_getSelectOptText:function(el){var option="";return el!=""&&(option=this._chkForNull(el.options[el.selectedIndex].text)),option},_getSelectOptValue:function(el){var value="";return el!=""&&(value=this._chkForNull(el.options[el.selectedIndex].value)),value},_getInputTagValue:function(el){var value="";return el!=""&&(value=this._chkForNull(el.value)),value},_mergeJson:function(obj1,obj2){var obj3={};for(var key in obj1)obj3.hasOwnProperty(key)||(obj3[key]=obj1[key]);for(var key in obj2)obj3.hasOwnProperty(key)||(obj3[key]=obj2[key]);return obj3},_getUrlVars:function(name){var urlPart={},parts=window.location.href.replace(/[?(#|&)]+([^=&]+)=([^&]*)/gi,function(m,key,value){urlPart[key]=value});return urlPart[name]},_isEmail:function(email){var emailReg=/\S+@\S+\.\S{2,10}/;return emailReg.test(email)},_getTimezoneOffset:function(){var offset=(new Date).getTimezoneOffset();return offset},_getText:function(el){return textEl="",el=this._chkForNull(el),el==""?el:(el.tagName=="INPUT"||el.tagName=="TEXTAREA"?textEl=chuknu._getInputTagValue(el):el.tagName=="SELECT"?textEl=chuknu._getSelectOptText(el):textEl=chuknu._getInnerText(el),textEl=textEl.trim(),textEl)}};_sokratiGenericPixel=function(leadStep){try{_sokParams={},_sokParams.timezone_offset=chuknu._chkForNull(chuknu._getTimezoneOffset()),_sokParams.lead_step=chuknu._chkForNull(leadStep);if(typeof dataLayer!="undefined"&&dataLayer.length>1){var obj=dataLayer[0];typeof obj.transactionId!="undefined"&&(_sokParams.item_identifier=chuknu._chkForNull(obj.transactionId)),typeof obj.transactionTotal!="undefined"&&(_sokParams.sales=chuknu._chkForNull(obj.transactionTotal));if(typeof obj.transactionProducts!="undefined"){var products=obj.transactionProducts,prices=[],names=[],quantities=[],sku_id=[],categories=[];for(var i=0;i<products.length;i++){var price=chuknu._chkForNull(products[i].price),qty=chuknu._chkForNull(products[i].quantity),name=chuknu._chkForNull(products[i].name),sku=chuknu._chkForNull(products[i].sku),category=chuknu._chkForNull(products[i].category);price&&prices.push(price),qty&&quantities.push(qty),name&&names.push(name),sku&&sku_id.push(sku),category&&categories.push(category)}_sokParams.product_names=chuknu._chkForNull(names.join("|")),_sokParams.product_prices=chuknu._chkForNull(prices.join("|")),_sokParams.product_quantities=chuknu._chkForNull(quantities.join("|")),_sokParams.sku_id=chuknu._chkForNull(sku_id.join("|")),_sokParams.product_category=chuknu._chkForNull(categories.join("|"))}}return _sokParams}catch(err){sokrati_err={error:"_sokratiGenericPixel: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err)}},_sokratiSalecomplete=function(){try{var tagName="",leadStep,_sokObj;leadStep="funnel_salecomplete",_sokObj=_sokratiGenericPixel(leadStep),sokrati.trackSaleParams("","","",1,_sokObj),sokrati._pause(500)}catch(err){sokrati_err={error:"_sokratiSalecomplete: "+err,lead_step:leadStep},sokrati&&sokrati.beaconParams("","",sokrati_err)}},_sokClient="17196",function(){var doc=document,script=doc.createElement("script"),track=function(){try{var int=setInterval(function(){var unique_element="";unique_element=document.querySelector('[class="sectionWithSubHeading"]'),unique_element=chuknu._chkForNull(unique_element),unique_element!=""&&(clearInterval(int),_sokratiSalecomplete())},500)}catch(err){sokrati_err={error:err,lead_step:"funnel_salecomplete"},sokrati&&sokrati.beaconParams("","",sokrati_err)}},firstScriptTag=doc.getElementsByTagName("script")[0];script.type="text/javascript",script.async=!0,script.onload===null?script.onload=track:script.readyState!==undefined&&(script.onreadystatechange=function(){this.readyState==="loaded"&&track()}),script.src=("https:"==document.location.protocol?"https://tracking.sokrati.com":"http://cdn.sokrati.com")+"/javascripts/tracker.js",firstScriptTag.parentNode.insertBefore(script,firstScriptTag)}()};